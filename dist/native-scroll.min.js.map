{"version":3,"sources":["webpack://native-scroll/./native-scroll.js"],"names":["style","document","createElement","appendChild","createTextNode","head","firstChild","insertBefore","sheet","registerScroll","target","timeoutId","container","oldHeight","oldScrollHeight","oldWidth","oldScrollWidth","verticalBar","horizontalBar","inside","observer","MutationObserver","tagName","body","contains","updateScroll","disconnect","activeFn","clearTimeout","classList","add","deActiveFn","setTimeout","remove","mouseMove","scroll","transform","clientWidth","scrollWidth","scrollLeft","scrollTop","clientHeight","scrollHeight","observe","attributes","childList","subtree","position","className","userSelect","height","onmouseenter","removeEventListener","onmouseleave","addEventListener","onmousedown","e","disableSelect","event","preventDefault","window","rect","getBoundingClientRect","mousemove","top","clientY","topPos","offsetY","mouseup","removeChild","max","Math","size","width","left","clientX","leftPos","offsetX","getComputedStyle","overflowY","overflowX","old","ctrlKey","altKey","shiftKey","deltaY","stopPropagation","insertRule","documentElement","animationName","s"],"mappings":"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","file":"native-scroll.min.js","sourcesContent":["(function () {\r\n    var style = document.createElement('style');\r\n    style.appendChild(document.createTextNode(''));\r\n    document.head.firstChild ? document.head.insertBefore(style, document.head.firstChild) : document.head.appendChild(style);\r\n    var sheet = style.sheet;\r\n    sheet.insertRule('@keyframes __scroll {from { opacity: 0.99; }to { opacity: 1; }}', 0);\r\n    sheet.insertRule('*{animation-duration: 0.001s;animation-name: __scroll;}', 1);\r\n    sheet.insertRule('.__vertical{width: 8px;height: 0;right: 0;top: 0;}', 2);\r\n    sheet.insertRule('.__horizontal{width: 0;height: 8px;left: 0;bottom: 0;}', 3);\r\n    sheet.insertRule('.__vertical,.__horizontal{border-radius: 4px;position: absolute;background: #888;z-index: 99;opacity: .1;transition: opacity .3s;}', 4);\r\n    sheet.insertRule('.__vertical.__active,.__horizontal.__active{opacity: .6;}', 5);\r\n    function registerScroll(target) {\r\n        var timeoutId, container, oldHeight, oldScrollHeight, oldWidth, oldScrollWidth, verticalBar, horizontalBar, inside,\r\n            observer = new MutationObserver(() => {\r\n                if (target.tagName !== 'HTML' && !document.body.contains(target)) observer.disconnect();\r\n                else updateScroll();\r\n            }),\r\n            activeFn = function () {\r\n                if (timeoutId) {\r\n                    clearTimeout(timeoutId);\r\n                }\r\n                verticalBar && verticalBar.classList.add('__active');\r\n                horizontalBar && horizontalBar.classList.add('__active');\r\n            },\r\n            deActiveFn = function () {\r\n                if (inside) return;\r\n                timeoutId = setTimeout(function () {\r\n                    verticalBar && verticalBar.classList.remove('__active');\r\n                    horizontalBar && horizontalBar.classList.remove('__active');\r\n                    timeoutId = null;\r\n                }, 1000);\r\n            },\r\n            mouseMove = function () {\r\n                activeFn();\r\n                deActiveFn();\r\n            },\r\n            scroll = function () {\r\n                observer.disconnect();\r\n                if (verticalBar) {\r\n                    verticalBar.style.transform = `translate(${target.tagName === 'HTML' ? target.clientWidth - target.scrollWidth + target.scrollLeft : 0}px,${(target.scrollTop * (target.clientHeight - verticalBar.clientHeight)) / (target.scrollHeight - target.clientHeight) + target.scrollTop}px)`\r\n                }\r\n                if (horizontalBar) {\r\n                    horizontalBar.style.transform = `translate(${(target.scrollLeft * (target.clientWidth - horizontalBar.clientWidth)) / (target.scrollWidth - target.clientWidth) + target.scrollLeft}px,${target.tagName === 'HTML' ? target.clientHeight - target.scrollHeight + target.scrollTop : 0}px)`\r\n                }\r\n                observer.observe(target, { attributes: true, childList: true, subtree: true });\r\n            },\r\n            updateScroll = () => {\r\n                if (target.clientHeight !== oldHeight || target.scrollHeight !== oldScrollHeight) {\r\n                    oldHeight = target.clientHeight;\r\n                    oldScrollHeight = target.scrollHeight;\r\n                    if (target.clientHeight < target.scrollHeight) {\r\n                        if (!verticalBar) {\r\n                            verticalBar = document.createElement('div');\r\n                            verticalBar.style.position = 'absolute';\r\n                            verticalBar.className = '__vertical';\r\n                            verticalBar.style.userSelect = 'none';\r\n                            verticalBar.style.height = '0px';\r\n                            verticalBar.onmouseenter = function () {\r\n                                inside = true;\r\n                                target.removeEventListener('mousemove', mouseMove);\r\n                                activeFn();\r\n                            }\r\n                            verticalBar.onmouseleave = function () {\r\n                                target.addEventListener('mousemove', mouseMove);\r\n                                inside = false;\r\n                                deActiveFn();\r\n                            }\r\n                            verticalBar.onmousedown = function (e) {\r\n                                function disableSelect(event) {\r\n                                    event.preventDefault();\r\n                                }\r\n                                window.addEventListener('selectstart', disableSelect);\r\n                                window.addEventListener('dragstart', disableSelect);\r\n\r\n                                var rect = target.getBoundingClientRect();\r\n                                e = e || window.event;\r\n                                verticalBar.topPos = e.offsetY;\r\n                                function mousemove(e) {\r\n                                    e = e || window.event;\r\n                                    var top =\r\n                                        e.clientY -\r\n                                        (target.tagName === 'HTML' ? 0 : rect.top) -\r\n                                        verticalBar.topPos;\r\n                                    if (top < 0) top = 0;\r\n                                    else if (top > target.clientHeight - verticalBar.clientHeight) {\r\n                                        top = target.clientHeight - verticalBar.clientHeight;\r\n                                    }\r\n                                    target.scrollTop =\r\n                                        (top * (target.scrollHeight - target.clientHeight)) /\r\n                                        (target.clientHeight - verticalBar.clientHeight);\r\n                                }\r\n                                function mouseup() {\r\n                                    window.removeEventListener('selectstart', disableSelect);\r\n                                    window.removeEventListener('dragstart', disableSelect);\r\n                                    document.removeEventListener('mousemove', mousemove);\r\n                                    document.removeEventListener('mouseup', mouseup);\r\n                                }\r\n                                document.addEventListener('mousemove', mousemove);\r\n                                document.addEventListener('mouseup', mouseup);\r\n                            };\r\n                            container.appendChild(verticalBar);\r\n                        }\r\n                    } else {\r\n                        if (container.contains(verticalBar)) {\r\n                            container.removeChild(verticalBar)\r\n                            verticalBar = null;\r\n                        }\r\n                    }\r\n                    if (verticalBar) {\r\n                        var max = Math.max(32, target.clientHeight / 2);\r\n                        var size =\r\n                            target.clientHeight / (target.scrollHeight / target.clientHeight);\r\n                        verticalBar.style.height = (size < max ? max : size) + 'px';\r\n                        scroll();\r\n                    }\r\n                }\r\n                if (target.clientWidth !== oldWidth || target.scrollWidth !== oldScrollWidth) {\r\n                    oldWidth = target.clientWidth;\r\n                    oldScrollWidth = target.scrollWidth;\r\n                    if (target.clientWidth < target.scrollWidth) {\r\n                        if (!horizontalBar) {\r\n                            horizontalBar = document.createElement('div');\r\n                            horizontalBar.style.position = 'absolute';\r\n                            horizontalBar.className = '__horizontal';\r\n                            horizontalBar.style.userSelect = 'none';\r\n                            horizontalBar.style.width = '0px';\r\n                            horizontalBar.onmouseenter = function () {\r\n                                inside = true;\r\n                                target.removeEventListener('mousemove', mouseMove);\r\n                                activeFn();\r\n                            }\r\n                            horizontalBar.onmouseleave = function () {\r\n                                target.addEventListener('mousemove', mouseMove);\r\n                                inside = false;\r\n                                deActiveFn();\r\n                            }\r\n                            horizontalBar.onmousedown = function (e) {\r\n                                function disableSelect(event) {\r\n                                    event.preventDefault();\r\n                                }\r\n                                window.addEventListener('selectstart', disableSelect);\r\n                                window.addEventListener('dragstart', disableSelect);\r\n\r\n                                var rect = target.getBoundingClientRect();\r\n                                e = e || window.event;\r\n                                horizontalBar.leftPos = e.offsetX;\r\n                                function mousemove(e) {\r\n                                    e = e || window.event;\r\n                                    var left =\r\n                                        e.clientX -\r\n                                        (target.tagName === 'HTML' ? 0 : rect.left) -\r\n                                        horizontalBar.leftPos;\r\n                                    if (left < 0) left = 0;\r\n                                    else if (left > target.clientWidth - horizontalBar.clientWidth) {\r\n                                        left = target.clientWidth - horizontalBar.clientWidth;\r\n                                    }\r\n                                    target.scrollLeft =\r\n                                        (left * (target.scrollWidth - target.clientWidth)) /\r\n                                        (target.clientWidth - horizontalBar.clientWidth);\r\n                                }\r\n                                function mouseup() {\r\n                                    window.removeEventListener('selectstart', disableSelect);\r\n                                    window.removeEventListener('dragstart', disableSelect);\r\n                                    document.removeEventListener('mousemove', mousemove);\r\n                                    document.removeEventListener('mouseup', mouseup);\r\n                                }\r\n                                document.addEventListener('mousemove', mousemove);\r\n                                document.addEventListener('mouseup', mouseup);\r\n                            };\r\n                            container.appendChild(horizontalBar);\r\n                        }\r\n                    } else {\r\n                        if (container.contains(horizontalBar)) {\r\n                            container.removeChild(horizontalBar)\r\n                            horizontalBar = null;\r\n                        }\r\n                    }\r\n                    if (horizontalBar) {\r\n                        var max = Math.max(32, target.clientWidth / 2);\r\n                        var size =\r\n                            target.clientWidth / (target.scrollWidth / target.clientWidth);\r\n                        horizontalBar.style.width = (size < max ? max : size) + 'px';\r\n                        scroll();\r\n                    }\r\n                }\r\n            }\r\n        if (target.tagName === 'HTML') {\r\n            container = document.body;\r\n        } else {\r\n            container = target;\r\n            if (getComputedStyle(target).position === 'static') {\r\n                target.style.position = 'relative';\r\n            }\r\n        }\r\n        target.style.overflowY = 'hidden';\r\n        target.style.overflowX = 'hidden';\r\n        target.addEventListener('wheel', function (e) {\r\n            if (e.ctrlKey || e.altKey) return;\r\n            var old;\r\n            if (e.shiftKey) {\r\n                old = target.scrollLeft;\r\n                if (e.deltaY > 0) target.scrollLeft += 100;\r\n                else target.scrollLeft -= 100;\r\n                if (old !== target.scrollLeft) {\r\n                    mouseMove();\r\n                    e.stopPropagation();\r\n                }\r\n            } else {\r\n                old = target.scrollTop;\r\n                if (e.deltaY > 0) target.scrollTop += 100;\r\n                else target.scrollTop -= 100;\r\n                if (old !== target.scrollTop) {\r\n                    mouseMove();\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        });\r\n        if (target.tagName === 'HTML') window.addEventListener('scroll', scroll);\r\n        else target.addEventListener('scroll', scroll);\r\n        target.addEventListener('mousemove', mouseMove);\r\n        updateScroll();\r\n        observer.observe(target, { attributes: true, childList: true, subtree: true });\r\n    }\r\n    registerScroll(document.documentElement);\r\n    document.addEventListener('animationstart', (e) => {\r\n        if (e.animationName !== '__scroll') return;\r\n        if (!e.target || !e.target.tagName) return;\r\n        var s = getComputedStyle(e.target);\r\n        if (s.overflowX === 'auto' || s.overflowX === 'scroll' || s.overflowY === 'auto' || s.overflowY === 'scroll') registerScroll(e.target)\r\n    });\r\n})()\r\n"],"sourceRoot":""}